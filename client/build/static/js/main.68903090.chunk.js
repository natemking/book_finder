(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(12),a=n.n(c),i=n(16),s=n(5),l=n(1),u=function(){return Object(l.jsxs)("section",{className:"jumbotron container mt-md-5 text-center border border-dark",children:[Object(l.jsx)("h1",{className:"display-4",children:"(React) Google Books Search"}),Object(l.jsx)("p",{className:"lead",children:"Search for and Save books of interest!"})]})},d=function(){return Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(l.jsx)("span",{className:"navbar-brand mb-0 h1",children:"Google Books"}),Object(l.jsxs)("ul",{className:"navbar-nav mr-auto d-flex flex-row w-100",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{to:"/search",className:"nav-link mr-3 mr-md-0",children:"Search"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{to:"/saved",className:"nav-link",children:"Saved"})})]})]})},b=n(13),j=n.n(b),h=n(17),m=n(14),f=function(e){var t=e.heading,n=e.children;return Object(l.jsxs)("section",{className:"jumbotron container border border-dark",children:[Object(l.jsx)("p",{children:t}),n]})},v=function(e){var t=e.id,n=e.type,r=e.btnName,o=e.onClick;return Object(l.jsx)("button",{id:t,type:n,onClick:o,className:"View"===r?"btn btn-secondary mr-1":"Search"===r?"btn btn-dark mt-3 float-right":"btn btn-dark",children:r})},p=function(e){var t=e.id,n=e.title,r=e.authors,o=e.desc,c=e.img,a=e.link,i=e.type,s=e.btnName,u=e.onClick,d=r.map((function(e,t){return(t?", ":"")+e}));return Object(l.jsxs)("article",{className:"container bg-white border border-dark pb-3",children:[Object(l.jsxs)("section",{className:"row justify-content-between",children:[Object(l.jsxs)("section",{className:"col-md-3 mt-3",children:[Object(l.jsx)("h4",{children:n}),Object(l.jsx)("p",{children:d})]}),Object(l.jsxs)("section",{className:"col-md-3 mt-3 d-flex justify-content-end mb-3",children:[Object(l.jsx)("section",{children:Object(l.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:Object(l.jsx)(v,{type:i,btnName:"View"})})}),Object(l.jsx)("section",{children:Object(l.jsx)(v,{id:t,type:i,btnName:s,onClick:u})})]})]}),Object(l.jsxs)("section",{className:"row",children:[Object(l.jsx)("section",{className:"col-md-3 col-lg-2 my-2",children:Object(l.jsx)("img",{src:c,alt:"".concat(n," cover")})}),Object(l.jsx)("section",{className:"col-md-9 col-lg-10 text-justify",children:Object(l.jsx)("p",{children:o})})]})]})},O=n(18),x=n.n(O),k={getBooks:function(){return x.a.get("/api/books")},saveBook:function(e){return x.a.post("/api/books",e)},deleteBook:function(e){return x.a.delete("/api/books/".concat(e))},searchBooks:function(e){return x.a.post("/api/search/".concat(e))}},g=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],o=t[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getBooks();case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),a=function(e){var t=e.target.id;k.deleteBook(t),c()},i=n.map((function(e){return Object(l.jsx)(p,{id:e._id,title:e.title,authors:e.authors,desc:e.description,img:e.image,link:e.link,type:"button",btnName:"Delete",onClick:a},e._id)}));return Object(l.jsx)(f,{heading:0===n.length?"No saved books yet":"Saved",children:i})},w=function(e){var t=e.id,n=e.type,r=e.btnName,o=e.onChange,c=e.onSubmit;return Object(l.jsxs)("section",{className:"jumbotron container mt-5 border border-dark",children:[Object(l.jsx)("h3",{children:"Book Search"}),Object(l.jsxs)("form",{id:t,className:"form-group",onSubmit:c,children:[Object(l.jsx)("label",{children:"Book"}),Object(l.jsx)("input",{className:"form-control",type:"text",onChange:o,required:!0}),Object(l.jsx)(v,{type:n,btnName:r,className:"btn btn-dark mt-3 float-right"})]})]})},y=n(15),N=n(32),S=function(e){var t=e.show,n=e.handleClose,r=e.book;return Object(l.jsxs)(y.a,{show:t,onHide:n,children:[Object(l.jsx)(y.a.Header,{children:Object(l.jsx)(y.a.Title,{children:"Success!"})}),Object(l.jsxs)(y.a.Body,{children:[Object(l.jsx)("i",{children:Object(l.jsx)("strong",{children:r})})," has been added to your Library!"]}),Object(l.jsx)(y.a.Footer,{children:Object(l.jsx)(N.a,{variant:"secondary",onClick:n,children:"Close"})})]})},I=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)([]),a=Object(m.a)(c,2),i=a[0],s=a[1],u=Object(r.useState)(""),d=Object(m.a)(u,2),b=d[0],v=d[1],O=Object(r.useState)(!1),x=Object(m.a)(O,2),g=x[0],y=x[1],N=function(e){var t=e.target.id,n=i.filter((function(e){return e.id===t}));(function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.saveBook({title:n[0].volumeInfo.title,authors:n[0].volumeInfo.authors,description:n[0].volumeInfo.description,image:n[0].volumeInfo.imageLinks.thumbnail,link:n[0].volumeInfo.previewLink});case 3:v(n[0].volumeInfo.title),I(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()},I=function(){return y(!0)},B=void 0===i?Object(l.jsx)("h3",{children:"No results. Please try again."}):i.filter((function(e){return e.volumeInfo.hasOwnProperty("title")&&e.volumeInfo.hasOwnProperty("authors")&&e.volumeInfo.hasOwnProperty("description")&&e.volumeInfo.hasOwnProperty("imageLinks")&&e.volumeInfo.hasOwnProperty("previewLink")})).map((function(e){return Object(l.jsx)(p,{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,desc:e.volumeInfo.description,img:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.previewLink,type:"button",btnName:"Save",onClick:N},e.id)}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{type:"submit",btnName:"Search",onChange:function(e){var t=e.target.value;o(t)},onSubmit:function(e){e.preventDefault(),function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.searchBooks(n.toLowerCase().trim());case 3:t=e.sent,s(t.data.items),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()(),e.target.querySelector("input").value=""}}),0===B.length?null:Object(l.jsx)(f,{heading:void 0===i?"":"Results",children:B}),Object(l.jsx)(S,{show:g,handleClose:function(){return y(!1)},book:b})]})};var B=function(){return Object(l.jsxs)(i.a,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)("main",{children:[Object(l.jsx)(u,{}),Object(l.jsxs)(s.c,{children:[Object(l.jsx)(s.a,{exact:!0,path:["/","/search"],component:I}),Object(l.jsx)(s.a,{exact:!0,path:"/saved",component:g}),Object(l.jsx)(s.a,{component:I})]})]})]})},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(66),n(67);a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");C?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):L(t,e)}))}}()}},[[68,1,2]]]);
//# sourceMappingURL=main.68903090.chunk.js.map